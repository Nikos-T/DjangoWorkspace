{% extends "base.html" %}
{% load guardian_tags %}
{% load carkm_tags %}
{% comment %} 
context contains:
fuelRecord: Object - Current FuelRecord to change or a previous one for add
comments: str - Comments of the fuelRecord (only if rich, else '')
{% endcomment %}



{% block content %}
	{% if fuelRecord.id %}
		{% url 'kmrecord:Change Record' fuelRecord.id as formUrl %}
	{% else %}
		{% url 'kmrecord:Add Record' fuelRecord.car.licensePlate as formUrl %}
	{% comment %} TODO TEST NOT CHANGE {% endcomment %}
	{% endif %}

<h1>Record: {% if fuelRecord.id %}{{fuelRecord.id}}{% else %}New{% endif %}</h1>

<form method="post" action={{formUrl}}>
	{% csrf_token %}
	<div class="form-group">
		<label for="km">Kilometers</label>
		<input class="form-control" type="number" step="0.01" name="km" value="{{fuelRecord.km}}" required>
	</div>
	<div class="form-group">
		<label for="date">Date</label>
		<input class="form-control" type="date" name="date" value="{{fuelRecord.date|date:'Y-m-d'}}" required>
	</div>
	<div class="form-group">
		<label for="pricePerLitre">Price per litre</label>
		<input class="form-control" type="number" step="0.001" name="pricePerLitre" value="{{fuelRecord.pricePerLitre}}">
	</div>
	<div class="form-group">
		<label for="price">Total price</label>
		<input class="form-control" type="number" step="0.01" name="price" value="{{fuelRecord.price}}">
	</div>
	<div class="form-group">
		<label for="quantity">Quantity</label>
		<input class="form-control" type="number" step="0.001" name="quantity" value="{{fuelRecord.quantity}}">
	</div>
	<div class="form-group">
		<label for="comments">Comments</label>
		<textarea class="form-control" name="comments" >{{comments}}</textarea>
	</div>
	<button type="submit" class="btn btn-primary">Submit</button>
</form>


{% endblock %}
